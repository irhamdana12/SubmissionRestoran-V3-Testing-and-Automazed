{"version":3,"file":"app~e4317507.bundle.js","mappings":";+JAYE,QAPa,CACX,IAAKA,EAAAA,EACL,QAASA,EAAAA,EACT,YAAaC,EAAAA,EACb,cAAeC,EAAAA,mCCmBjB,QA5BgB,CACdC,2BADc,WAEZ,IAAMC,EAAMC,OAAOC,SAASC,KAAKC,MAAM,GAAGC,cACpCC,EAAaC,KAAKC,aAAaR,GACrC,OAAOO,KAAKE,aAAaH,EAC1B,EAEDI,8BAPc,WAQZ,IAAMV,EAAMC,OAAOC,SAASC,KAAKC,MAAM,GAAGC,cAC1C,OAAOE,KAAKC,aAAaR,EAC1B,EAEDQ,aAZc,SAYDR,GACX,IAAMW,EAAaX,EAAIY,MAAM,KAC7B,MAAO,CACLC,SAAUF,EAAW,IAAM,KAC3BG,GAAIH,EAAW,IAAM,KACrBI,KAAMJ,EAAW,IAAM,KAE1B,EAEDF,aArBc,SAqBDH,GACX,OAAQA,EAAWO,SAAX,WAA0BP,EAAWO,UAAa,MACvDP,EAAWQ,GAAK,OAAS,KACzBR,EAAWS,KAAX,WAAsBT,EAAWS,MAAS,GAC9C,mSCxBL,smNA8CA,QA7C4B,CAClBC,KADkB,YAC6C,6HAAxDC,EAAwD,EAAxDA,oBAAqBC,EAAmC,EAAnCA,oBAAqBC,EAAc,EAAdA,WACnD,EAAKC,qBAAuBH,EAC5B,EAAKI,YAAcF,EACnB,EAAKG,qBAAuBJ,EAHqC,SAK3D,EAAKK,gBALsD,4CAMpE,EAEKA,cATkB,WASF,yHACVT,EAAO,EAAKO,YAAZP,GADU,SAGR,EAAKU,mBAAmBV,GAHhB,kCAId,EAAKW,eAJS,sBAMd,EAAKC,cANS,4CAQrB,EAEKF,mBAnBkB,SAmBCV,GAAI,kIACA,EAAKQ,qBAAqBK,SAASb,GADnC,cACnBK,EADmB,2BAEhBA,GAFgB,4CAG5B,EAEDO,YAxBwB,WAwBV,WACVnB,KAAKa,qBAAqBQ,WAAYC,EAAAA,EAAAA,MAEnBC,SAASC,cAAc,eAC/BC,iBAAiB,QAA5B,YAAqC,8FAC3B,EAAKV,qBAAqBW,SAAS,EAAKZ,aADb,OAEjC,EAAKE,gBAF4B,2CAIxC,EAEDE,aAlCwB,WAkCT,WACXlB,KAAKa,qBAAqBQ,WAAYM,EAAAA,EAAAA,MAEnBJ,SAASC,cAAc,eAC/BC,iBAAiB,QAA5B,YAAqC,8FAC3B,EAAKV,qBAAqBa,YAAY,EAAKd,YAAYP,IAD5B,OAEjC,EAAKS,gBAF4B,2CAIxC,mSC3CL,m6MAiBA,QAhBgB,gCAAG,uFACX,kBAAmBa,UADR,uBAEfC,QAAQC,IAAI,+CAFG,iCAMXC,EAAK,IAAIC,EAAAA,GAAsB,kBANpB,kBASTD,EAAGE,WATM,OAUfJ,QAAQC,IAAI,6BAVG,kDAYfD,QAAQC,IAAI,oCAAZ,MAZe,wOAAH","sources":["webpack://restaurant-apps/./src/scripts/routes/routes.js","webpack://restaurant-apps/./src/scripts/routes/url-parser.js","webpack://restaurant-apps/./src/scripts/utils/like-button-presenter.js","webpack://restaurant-apps/./src/scripts/utils/sw-register.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport ListRestaurants from '../views/pages/list';\r\nimport FavoriteRestaurants from '../views/pages/favorite';\r\nimport DetailRestaurants from '../views/pages/detail';\r\n\r\nconst routes = {\r\n    '/': ListRestaurants, // default page\r\n    '/list': ListRestaurants,\r\n    '/favorite': FavoriteRestaurants,\r\n    '/detail/:id': DetailRestaurants,\r\n\r\n};\r\n  export default routes;","const UrlParser = {\r\n    parseActiveUrlWithCombiner() {\r\n      const url = window.location.hash.slice(1).toLowerCase();\r\n      const splitedUrl = this._urlSplitter(url);\r\n      return this._urlCombiner(splitedUrl);\r\n    },\r\n\r\n    parseActiveUrlWithoutCombiner() {\r\n      const url = window.location.hash.slice(1).toLowerCase();\r\n      return this._urlSplitter(url);\r\n    },\r\n\r\n    _urlSplitter(url) {\r\n      const urlsSplits = url.split('/');\r\n      return {\r\n        resource: urlsSplits[1] || null,\r\n        id: urlsSplits[2] || null,\r\n        verb: urlsSplits[3] || null,\r\n      };\r\n    },\r\n\r\n    _urlCombiner(splitedUrl) {\r\n      return (splitedUrl.resource ? `/${splitedUrl.resource}` : '/')\r\n      + (splitedUrl.id ? '/:id' : '')\r\n      + (splitedUrl.verb ? `/${splitedUrl.verb}` : '');\r\n    },\r\n  };\r\n\r\n  export default UrlParser;","import { createLikeButtonTemplate, createUnlikeMovieButtonTemplate } from '../views/templates/template-creator';\r\n\r\nconst LikeButtonPresenter = {\r\n    async init({ likeButtonContainer, favoriteRestaurants, restaurant }) {\r\n        this._likeButtonContainer = likeButtonContainer;\r\n        this._restaurant = restaurant;\r\n        this._favoriteRestaurants = favoriteRestaurants;\r\n\r\n        await this._renderButton();\r\n    },\r\n\r\n    async _renderButton() {\r\n        const { id } = this._restaurant;\r\n\r\n        if (await this._isRestaurantExist(id)) {\r\n            this._renderLiked();\r\n        } else {\r\n            this._renderLike();\r\n        }\r\n    },\r\n\r\n    async _isRestaurantExist(id) {\r\n        const restaurant = await this._favoriteRestaurants.getResto(id);\r\n        return !!restaurant;\r\n    },\r\n\r\n    _renderLike() {\r\n        this._likeButtonContainer.innerHTML = createLikeButtonTemplate();\r\n\r\n        const likeButton = document.querySelector('#likeButton');\r\n        likeButton.addEventListener('click', async() => {\r\n            await this._favoriteRestaurants.putResto(this._restaurant);\r\n            this._renderButton();\r\n        });\r\n    },\r\n\r\n    _renderLiked() {\r\n        this._likeButtonContainer.innerHTML = createUnlikeMovieButtonTemplate();\r\n\r\n        const likeButton = document.querySelector('#likeButton');\r\n        likeButton.addEventListener('click', async() => {\r\n            await this._favoriteRestaurants.deleteResto(this._restaurant.id);\r\n            this._renderButton();\r\n        });\r\n    },\r\n};\r\n\r\nexport default LikeButtonPresenter;","import * as WorkboxWindow from 'workbox-window';\r\n\r\nconst swRegister = async () => {\r\n  if (!('serviceWorker' in navigator)) {\r\n    console.log('Service Worker not supported in the browser');\r\n    return;\r\n  }\r\n\r\n  const wb = new WorkboxWindow.Workbox('./sw.bundle.js');\r\n\r\n  try {\r\n    await wb.register();\r\n    console.log('Service worker registered');\r\n  } catch (error) {\r\n    console.log('Failed to register service worker', error);\r\n  }\r\n};\r\n\r\nexport default swRegister;"],"names":["ListRestaurants","FavoriteRestaurants","DetailRestaurants","parseActiveUrlWithCombiner","url","window","location","hash","slice","toLowerCase","splitedUrl","this","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlsSplits","split","resource","id","verb","init","likeButtonContainer","favoriteRestaurants","restaurant","_likeButtonContainer","_restaurant","_favoriteRestaurants","_renderButton","_isRestaurantExist","_renderLiked","_renderLike","getResto","innerHTML","createLikeButtonTemplate","document","querySelector","addEventListener","putResto","createUnlikeMovieButtonTemplate","deleteResto","navigator","console","log","wb","WorkboxWindow","register"],"sourceRoot":""}